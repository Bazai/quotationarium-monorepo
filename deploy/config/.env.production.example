# =============================================================================
# QUOTES APP DEPLOYMENT CONFIGURATION - PRODUCTION
# =============================================================================

# Environment
ENVIRONMENT=production
APP_NAME=quotes

# Paths Configuration
MONOREPO_BASE_PATH=/opt/quotes-monorepo  # UNUSED: Not referenced in any deployment script
FRONTEND_SOURCE_PATH=${MONOREPO_BASE_PATH}/frontend
BACKEND_SOURCE_PATH=${MONOREPO_BASE_PATH}/backend

FRONTEND_PROD_PATH=/opt/collect_front
BACKEND_PROD_PATH=/opt/collector

# Backup Configuration  
BACKUP_BASE_DIR=/opt/backups  # UNUSED: Individual FRONTEND/BACKEND_BACKUP_DIR used instead
FRONTEND_BACKUP_DIR=${BACKUP_BASE_DIR}/frontend
BACKEND_BACKUP_DIR=${BACKUP_BASE_DIR}/backend
BACKUP_RETENTION_COUNT=5

# Services Configuration
FRONTEND_SERVICE_MANAGER=pm2
FRONTEND_SERVICE_NAME=app
BACKEND_SERVICE_MANAGER=systemd
BACKEND_SERVICE_NAME=collector.service
SERVICE_USER=www-data

# Static Files
STATIC_FILES_PATH=/var/opt/collector/static

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=quotes_db
DB_USER=quotes_user
# DB_PASSWORD - stored separately in .env.secrets

# Network Configuration  
FRONTEND_PORT=3000
BACKEND_PORT=8000
FRONTEND_URL=http://localhost:${FRONTEND_PORT}
BACKEND_URL=http://localhost:${BACKEND_PORT}
API_HEALTH_ENDPOINT=/api/
FRONTEND_HEALTH_ENDPOINT=/

# Build Configuration
NODE_MAX_OLD_SPACE_SIZE=512
BUILD_TIMEOUT=300
NPM_INSTALL_TIMEOUT=180

# Deployment Options
SKIP_TESTS=false
SKIP_BACKUP=false
FORCE_DEPLOY=false
VERBOSE=false
# DRY_RUN is a runtime flag, not a config setting

# Health Check Configuration
HEALTH_CHECK_RETRIES=5
HEALTH_CHECK_DELAY=2
HEALTH_CHECK_TIMEOUT=10

# Sync Configuration (rsync)
RSYNC_DELETE=true
RSYNC_EXCLUDE_FRONTEND="--exclude='.next/' --exclude='node_modules/' --exclude='.git/' --exclude='*.log' --exclude='.env.local' --exclude='.env.development' --exclude='tsconfig.tsbuildinfo'"
RSYNC_EXCLUDE_BACKEND="--exclude='.git/' --exclude='__pycache__/' --exclude='*.pyc' --exclude='.pytest_cache/' --exclude='*.log' --exclude='.env' --exclude='.env.local' --exclude='.env.development' --exclude='logs/' --exclude='.venv/' --exclude='config/settings_local.py'"

# Notification Configuration (optional)
NOTIFY_ON_DEPLOY=false
NOTIFY_ON_ROLLBACK=false
NOTIFY_WEBHOOK_URL=

# Next.js Environment Variables for Frontend Build
NEXT_PUBLIC_API_URL=https://expo.timuroki.ink/api/
NEXT_PUBLIC_SITE_URL=https://expo.timuroki.ink
NEXT_PUBLIC_GOOGLE_TAG_ID=GTM-5KMHZSHX
