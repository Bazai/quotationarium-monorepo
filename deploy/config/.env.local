# =============================================================================
# QUOTES APP DEPLOYMENT CONFIGURATION - LOCAL DEVELOPMENT
# =============================================================================

# Environment
ENVIRONMENT=local
APP_NAME=quotes-local

# Paths Configuration (для локального тестирования)
MONOREPO_BASE_PATH=/Users/bazzy/GTD/1_projects/2024_timuroky_quotes/collector-all/opt/quotes-monorepo-v2  # UNUSED: Not referenced in any deployment script
FRONTEND_SOURCE_PATH=${MONOREPO_BASE_PATH}/frontend
BACKEND_SOURCE_PATH=${MONOREPO_BASE_PATH}/backend

# Для локального тестирования можно использовать временные директории
FRONTEND_PROD_PATH=/tmp/quotes-test/collect_front
BACKEND_PROD_PATH=/tmp/quotes-test/collector

# Backup Configuration  
BACKUP_BASE_DIR=/tmp/quotes-test/backups  # UNUSED: Individual FRONTEND/BACKEND_BACKUP_DIR used instead
FRONTEND_BACKUP_DIR=${BACKUP_BASE_DIR}/frontend
BACKEND_BACKUP_DIR=${BACKUP_BASE_DIR}/backend
BACKUP_RETENTION_COUNT=3

# Services Configuration (для локального тестирования)
FRONTEND_SERVICE_MANAGER=pm2
FRONTEND_SERVICE_NAME=quotes-app-local
BACKEND_SERVICE_MANAGER=manual  # не использовать systemd для локальных тестов
BACKEND_SERVICE_NAME=quotes-backend-local
SERVICE_USER=$(whoami)  # текущий пользователь

# Static Files
STATIC_FILES_PATH=${BACKEND_PROD_PATH}/static

# Database Configuration (локальная БД)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=quotes_db
DB_USER=quotes_user

# Network Configuration  
FRONTEND_PORT=3001  # другой порт для избежания конфликтов
BACKEND_PORT=8001
FRONTEND_URL="http://localhost:${FRONTEND_PORT}"
BACKEND_URL="http://localhost:${BACKEND_PORT}"
API_HEALTH_ENDPOINT=/api/
FRONTEND_HEALTH_ENDPOINT=/

# Build Configuration (меньше ресурсов для локального тестирования)
NODE_MAX_OLD_SPACE_SIZE=512
BUILD_TIMEOUT=180
NPM_INSTALL_TIMEOUT=120

# Deployment Options (для быстрого тестирования)
SKIP_TESTS=true
SKIP_BACKUP=false
FORCE_DEPLOY=false
VERBOSE=true

# Health Check Configuration
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_DELAY=1
HEALTH_CHECK_TIMEOUT=10

# Sync Configuration (rsync)
RSYNC_DELETE=true
RSYNC_EXCLUDE_FRONTEND="--exclude='.next/' --exclude='node_modules/' --exclude='.git/' --exclude='*.log' --exclude='.env.local' --exclude='.env.development' --exclude='tsconfig.tsbuildinfo'"
RSYNC_EXCLUDE_BACKEND="--exclude='.git/' --exclude='__pycache__/' --exclude='*.pyc' --exclude='.pytest_cache/' --exclude='*.log' --exclude='.env' --exclude='.env.local' --exclude='.env.development' --exclude='logs/' --exclude='.venv/'"

# Notification Configuration
NOTIFY_ON_DEPLOY=false
NOTIFY_ON_ROLLBACK=false

# Domain Configuration (для локального тестирования)
# DOMAIN_NAME=localhost  # UNUSED: Not referenced in deployment scripts
# SSL_CERT_PATH=  # UNUSED: SSL config not automated
# SSL_KEY_PATH=  # UNUSED: SSL config not automated
